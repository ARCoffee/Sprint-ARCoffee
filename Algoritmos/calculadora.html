<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" href="styleCalculadora.css">
    <link rel="stylesheet" href="Proto_Bruno/style.css">
    <title>Calculadora Financeira</title>
  </head>

  <body>

    <!-- Header -->
    <div class="header" id="meuHeader">
      <div class="container">
        <img src="https://github.com/ARCoffee/Sprint-ARCoffee/blob/main/design/ar%20coffee%20(7).png?raw=true"
          alt="Logo" />

        <ul>
          <li>Home</li>

          <li>Nossa Equipe</li>

          <li>Fale Conosco</li>

          <li>Nossa Sede</li>

          <div class="registroHome">
            <li id="li_homeSignIn">Sign In</li>

            <a href="loginAlternativo.html">
              <li id="li_homeLogIn">Log In</li>
            </a>
          </div>
        </ul>
      </div>
    </div>
    <!-- Fim do Header -->

    <div class="containerCalculadora">


      <div class="mainLeft">
        <!-- T√≠tulo -->
        <h1>Calculadora Financeira</h1>

        <!-- Campos de entrada -->
        <!-- Input para a quantidade de armaz√©ns -->
        <p>Quantidade de Armaz√©ns</p>
        <input type="number" id="quantidade" style="width: 200px" placeholder="Ex.: 3" /><br /><br />

        <!-- Input para a quantidade de tamanho do armaz√©m -->
        <p>Tamanho do armaz√©m em m¬≤</p>
        <input type="number" id="tamanho" style="width: 200px" placeholder="Ex.: 10" /><br /><br />

        <!-- Input para a produ√ß√£o mensal em sacas -->
        <p>Produ√ß√£o Mensal em Sacas</p>
        <input type="number" id="producao" style="width: 200px" placeholder="Ex.: 30" /><br /><br />

        <!-- Input para a quantidade de sacas perdidas -->
        <p>Quantidade de Sacas Perdidas</p>
        <input type="number" id="perda" style="width: 200px" placeholder="Ex.: 40" /><br /><br />

        <p>Selecione o tipo de caf√© produzido</p>
        <select id="inp_tipoCafe">
          <option value="Bourbon">Bourbon</option>
          <option value="Conilon">Conilon/Robusta</option>
          <option value="Arabico">Ar√°bico</option>
          <option value="Catua√≠">Catua√≠</option>
          <option value="Outros">Outros</option>
        </select>
        <br /><br />
        <!-- Bot√£o para calcular -->
        <button type="button" id="calculate" onclick="calculate()">
          Calcular
        </button>
      </div>


      <div class="mainRight">
        <!-- Resultado -->
        <h2>Resultado:</h3>
        <!-- Div para exibir o resultado -->
        <div id="result"></div>
      </div>

    </div>



    <div class="conversaoMiddle">

      <!-- Segunda Calculadora - Convers√£o de Toneladas para Sacas -->
      <h2>Convers√£o de Toneladas para Sacas</h2>

      <!-- Campo de entrada para toneladas -->
      <p>Digite a quantidade de toneladas</p>
      <input type="number" id="input_toneladas" placeholder="Ex.: 5" /><br /><br />

      <!-- Bot√£o para calcular a convers√£o -->
      <button type="button" id="convert" onclick="convertToneladasToSacas()">
        Converter
      </button>

      <!-- Resultado da convers√£o -->
      <h3>Resultado da Convers√£o:</h3>
      <div id="resultadoConversao"></div>
    </div>

    <!-- Script para calcular e exibir o resultado -->
    <script>
      // Fun√ß√£o que calcula e exibe o resultado
      function calculate() {
        // Entradas
        var quantidadeArmazens = Number(quantidade.value); // Captura a quantidade de armaz√©ns informada
        var producaoMensal = Number(producao.value); // Captura a produ√ß√£o mensal informada
        var qtdsacasPerdidas = Number(perda.value); // Captura a quantidade de sacas perdidas informada
        var pesoSaca = 60; // Peso padr√£o de uma saca em kg
        var tipoCafe = inp_tipoCafe.value;

        // Constantes
        var tamanhoPadraoArmazem = Number(tamanho.value); // Tamanho padr√£o de um armaz√©m em m¬≤
        var areaSupridaSensor = 10; // √Årea suprida por um sensor em m¬≤
        var precoSensor = 121.9; // Pre√ßo de um sensor em Reais

        // C√°lculos
        var porcentagemPerda = (qtdsacasPerdidas / producaoMensal) * 100; // Porcentagem de perda em rela√ß√£o √† produ√ß√£o
        var perdaTotal = qtdsacasPerdidas * pesoSaca; // Perda total em kg
        var sensoresNecessarios = (tamanhoPadraoArmazem / areaSupridaSensor) * quantidadeArmazens; // N√∫mero total de sensores necess√°rios
        var custoSensores = sensoresNecessarios * precoSensor; // Custo total dos sensores
        var custoInstalacao = sensoresNecessarios * 95; // Custo total da instala√ß√£o

        if (sensoresNecessarios > 15) {
          custoSensores *= 0.95; // Aplica√ß√£o do desconto de 5% caso necess√°rio
        }

        //Proje√ß√£o de valores por saca
        var valorSacasPerdidas = producaoMensal;
        if (tipoCafe == "Bourbon") {
          valorSacasPerdidas = 1800 * qtdsacasPerdidas;
        } else if (tipoCafe == "Conilon") {
          valorSacasPerdidas = 620 * qtdsacasPerdidas;
        } else if (tipoCafe == "Arabico") {
          valorSacasPerdidas = 850 * qtdsacasPerdidas;
        } else if (tipoCafe == 'Catua√≠') {
          valorSacasPerdidas = 1600 * qtdsacasPerdidas;
        } else {
          valorSacasPerdidas = 800 * qtdsacasPerdidas;
        }

        // Cria√ß√£o da mensagem de exibi√ß√£o 
        var textoCalculadora = `<p><b>Voc√™ perde ${porcentagemPerda}% da sua produ√ß√£o, equivalente √† R$${valorSacasPerdidas} devido ao mal armazenamento.<br>
      Ser√£o necess√°rios ${sensoresNecessarios} sensores para total aproveitamento da monitora√ß√£o,
       ou seja, ${sensoresNecessarios / quantidadeArmazens} sensores por armaz√©m. 
      O investimento inicial ficar√° no total de R$${custoSensores + custoInstalacao}.</b></p>`


        if (quantidadeArmazens == 1) {
          textoCalculadora = `<p><b>Voc√™ perde ${porcentagemPerda}% da sua produ√ß√£o, equivalente √† R$${valorSacasPerdidas} devido ao mal armazenamento.<br>
      Ser√£o necess√°rios ${sensoresNecessarios} sensores para total aproveitamento da monitora√ß√£o,
      O investimento inicial ficar√° no total de R$${custoSensores + custoInstalacao}.</b></p>`
        }

        

        // Seria bem legal se tivesse uma mensagem resumindo o quanto o usu√°rio perde e o quanto ele ganha, tipo:
        // No momento voc√™ perde: R$1000,00
        // Com nossa solu√ß√£o voc√™ passa a perder: R$500,00
        // Economizando R$500 no total
        // üëç



        // Inser√ß√£o do resultado
        result.innerHTML = textoCalculadora;
      }

      // Fun√ß√£o para converter toneladas em sacas
      function convertToneladasToSacas() {
        // Entrada de toneladas
        var unidadeTonelada = Number(input_toneladas.value);

        // Constante: Peso de uma saca em kg
        var pesoSaca = 60;

        // C√°lculo da convers√£o
        var sacas = (unidadeTonelada * 1000) / pesoSaca; // 1 tonelada = 1000 kg

        // Texto de resultado
        var resultado2 = `<p>${unidadeTonelada} toneladas equivalem a aproximadamente ${sacas} sacas de caf√©.</p>`;

        // Inser√ß√£o do resultado
        resultadoConversao.innerHTML = resultado2;
      }
    </script>
  </body>

</html>
